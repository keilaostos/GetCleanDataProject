# Code Book 

[1] "subject"
  The group of 30 volunteers who participated in the measurements
                  1    subject 1
                  2    subject 2
                  3    subject 3
                  4    subject 4
                  5    subject 5
                  6    subject 6
                  7    subject 7
                  8    subject 8
                  9    subject 9
                  10  subject 10
                  11  subject 11
                  12  subject 12
                  13  subject 13
                  14  subject 14
                  15  subject 15
                  16  subject 16
                  17  subject 17
                  18  subject 18
                  19  subject 19
                  20  subject 20
                  21  subject 21
                  22  subject 22
                  23  subject 23
                  24  subject 24
                  25  subject 25
                  26  subject 26
                  27  subject 27
                  28  subject 28
                  29  subject 29
                  30  subject 30
                  
[2] "activity"
  The activities that the subjects performed while the measurements were taken
                  WALKING
                  WALKING_UPSTAIRS
                  WALKING_DOWNSTAIRS
                  SITTING
                  STANDING
                  LAYING
                  
[3] "TimeBodyAccelerometerMeanX_mean"                                   
[4] "TimeBodyAccelerometerMeanY_mean"                                   
[5] "TimeBodyAccelerometerMeanZ_mean"                                   
[6] "TimeGravityAccelerometerMeanX_mean"                                
[7] "TimeGravityAccelerometerMeanY_mean"                                
[8] "TimeGravityAccelerometerMeanZ_mean"                                
[9] "TimeBodyAccelerometerJerkMeanX_mean"                               
[10] "TimeBodyAccelerometerJerkMeanY_mean"                               
[11] "TimeBodyAccelerometerJerkMeanZ_mean"                               
[12] "TimeBodyGyroscopeMeanX_mean"                                       
[13] "TimeBodyGyroscopeMeanY_mean"                                       
[14] "TimeBodyGyroscopeMeanZ_mean"                                       
[15] "TimeBodyGyroscopeJerkMeanX_mean"                                   
[16] "TimeBodyGyroscopeJerkMeanY_mean"                                   
[17] "TimeBodyGyroscopeJerkMeanZ_mean"                                   
[18] "TimeBodyAccelerometerMagnitudeMean_mean"                           
[19] "TimeGravityAccelerometerMagnitudeMean_mean"                        
[20] "TimeBodyAccelerometerJerkMagnitudeMean_mean"                       
[21] "TimeBodyGyroscopeMagnitudeMean_mean"                               
[22] "TimeBodyGyroscopeJerkMagnitudeMean_mean"                           
[23] "FrequencyuencyBodyAccelerometerMeanX_mean"                         
[24] "FrequencyuencyBodyAccelerometerMeanY_mean"                         
[25] "FrequencyuencyBodyAccelerometerMeanZ_mean"                         
[26] "FrequencyuencyBodyAccelerometerMeanFrequencyX_mean"                
[27] "FrequencyuencyBodyAccelerometerMeanFrequencyY_mean"                
[28] "FrequencyuencyBodyAccelerometerMeanFrequencyZ_mean"                
[29] "FrequencyuencyBodyAccelerometerJerkMeanX_mean"                     
[30] "FrequencyuencyBodyAccelerometerJerkMeanY_mean"                     
[31] "FrequencyuencyBodyAccelerometerJerkMeanZ_mean"                     
[32] "FrequencyuencyBodyAccelerometerJerkMeanFrequencyX_mean"            
[33] "FrequencyuencyBodyAccelerometerJerkMeanFrequencyY_mean"            
[34] "FrequencyuencyBodyAccelerometerJerkMeanFrequencyZ_mean"            
[35] "FrequencyuencyBodyGyroscopeMeanX_mean"                             
[36] "FrequencyuencyBodyGyroscopeMeanY_mean"                             
[37] "FrequencyuencyBodyGyroscopeMeanZ_mean"                             
[38] "FrequencyuencyBodyGyroscopeMeanFrequencyX_mean"                    
[39] "FrequencyuencyBodyGyroscopeMeanFrequencyY_mean"                    
[40] "FrequencyuencyBodyGyroscopeMeanFrequencyZ_mean"                    
[41] "FrequencyuencyBodyAccelerometerMagnitudeMean_mean"                 
[42] "FrequencyuencyBodyAccelerometerMagnitudeMeanFrequency_mean"        
[43] "FrequencyuencyBodyAccelerometerJerkMagnitudeMean_mean"             
[44] "FrequencyuencyBodyAccelerometerJerkMagnitudeMeanFrequency_mean"    
[45] "FrequencyuencyBodyGyroscopeMagnitudeMean_mean"                     
[46] "FrequencyuencyBodyGyroscopeMagnitudeMeanFrequency_mean"            
[47] "FrequencyuencyBodyGyroscopeJerkMagnitudeMean_mean"                 
[48] "FrequencyuencyBodyGyroscopeJerkMagnitudeMeanFrequency_mean"        
[49] "AngleTimeBodyAccelerometerMeanGravity_mean"                        
[50] "AngleTimeBodyAccelerometerJerkMeanGravityMean_mean"                
[51] "AngleTimeBodyGyroscopeMeanGravityMean_mean"                        
[52] "AngleTimeBodyGyroscopeJerkMeanGravityMean_mean"                    
[53] "AngleXGravityMean_mean"                                            
[54] "AngleYGravityMean_mean"                                            
[55] "AngleZGravityMean_mean"                                            
[56] "TimeBodyAccelerometerStandardDeviationX_mean"                      
[57] "TimeBodyAccelerometerStandardDeviationY_mean"                      
[58] "TimeBodyAccelerometerStandardDeviationZ_mean"                      
[59] "TimeGravityAccelerometerStandardDeviationX_mean"                   
[60] "TimeGravityAccelerometerStandardDeviationY_mean"                   
[61] "TimeGravityAccelerometerStandardDeviationZ_mean"                   
[62] "TimeBodyAccelerometerJerkStandardDeviationX_mean"                  
[63] "TimeBodyAccelerometerJerkStandardDeviationY_mean"                  
[64] "TimeBodyAccelerometerJerkStandardDeviationZ_mean"                  
[65] "TimeBodyGyroscopeStandardDeviationX_mean"                          
[66] "TimeBodyGyroscopeStandardDeviationY_mean"                          
[67] "TimeBodyGyroscopeStandardDeviationZ_mean"                          
[68] "TimeBodyGyroscopeJerkStandardDeviationX_mean"                      
[69] "TimeBodyGyroscopeJerkStandardDeviationY_mean"                      
[70] "TimeBodyGyroscopeJerkStandardDeviationZ_mean"                      
[71] "TimeBodyAccelerometerMagnitudeStandardDeviation_mean"              
[72] "TimeGravityAccelerometerMagnitudeStandardDeviation_mean"           
[73] "TimeBodyAccelerometerJerkMagnitudeStandardDeviation_mean"          
[74] "TimeBodyGyroscopeMagnitudeStandardDeviation_mean"                  
[75] "TimeBodyGyroscopeJerkMagnitudeStandardDeviation_mean"              
[76] "FrequencyuencyBodyAccelerometerStandardDeviationX_mean"            
[77] "FrequencyuencyBodyAccelerometerStandardDeviationY_mean"            
[78] "FrequencyuencyBodyAccelerometerStandardDeviationZ_mean"            
[79] "FrequencyuencyBodyAccelerometerJerkStandardDeviationX_mean"        
[80] "FrequencyuencyBodyAccelerometerJerkStandardDeviationY_mean"        
[81] "FrequencyuencyBodyAccelerometerJerkStandardDeviationZ_mean"        
[82] "FrequencyuencyBodyGyroscopeStandardDeviationX_mean"                
[83] "FrequencyuencyBodyGyroscopeStandardDeviationY_mean"                
[84] "FrequencyuencyBodyGyroscopeStandardDeviationZ_mean"                
[85] "FrequencyuencyBodyAccelerometerMagnitudeStandardDeviation_mean"    
[86] "FrequencyuencyBodyAccelerometerJerkMagnitudeStandardDeviation_mean"
[87] "FrequencyuencyBodyGyroscopeMagnitudeStandardDeviation_mean"        
[88] "FrequencyuencyBodyGyroscopeJerkMagnitudeStandardDeviation_mean


## What I did to clean up data

First, I downloaded the zip file and unziped it.

After reading the files contained in the zip, it should be understood that all of the txt files can be used to create a table.

All of the data that was recollected came from the measurements of the accelerometer and gyroscope embedded in the smartphone of 30 volunteers. The measurements were taken as the volunteers performed various activities: WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, LAYING.

From that recollected data, they calculated many *many* things... From mean, to entropy, to kurtosis, and I could keep going. 

The file "features.txt" contains what would be the variable names, representing what was calculated from the data they recollected. 

The observations can be classified by **subject number** or by **type of activity**. The type of activity will be defined by a *code*, given in the file "activity_labels.txt". 

The data that was originally collected was divided into two sets: "train" & "test".

The folders that correspond to said sets each contain a folder (Inertial Signals), and three txt files (subject, X & Y). The subject file, as its name implies, will hold the data that corresponds to the number of the subject performing *n* **activity**. The Y file contains the data that will correspond to the *code* specifying the **activity**. The X file corresponds to the values of the features.

### After understanding all of this, I was able to clean up the data

I had to open up the dplyr package to help with some functions
`library(dplyr)`

First, I converted all of the text files into a table object 
```json
features <- read.table("UCI HAR Dataset/features.txt", 
                       col.names = c("n","functions"))

activities <- read.table("UCI HAR Dataset/activity_labels.txt", 
                         col.names = c("code", "activity"))

subject_test <- read.table("UCI HAR Dataset/test/subject_test.txt", 
                           col.names = "subject")

x_test <- read.table("UCI HAR Dataset/test/X_test.txt", 
                     col.names = features$functions)

y_test <- read.table("UCI HAR Dataset/test/y_test.txt", 
                     col.names = "code")

subject_train <- read.table("UCI HAR Dataset/train/subject_train.txt", 
                            col.names = "subject")

x_train <- read.table("UCI HAR Dataset/train/X_train.txt", 
                      col.names = features$functions)

y_train <- read.table("UCI HAR Dataset/train/y_train.txt", 
                      col.names = "code")
```

Then, to merge the training and the test sets to create one data set (mrgData) I did the following:
```json
  X <- rbind(x_train, x_test) # Merging data of features
  Y <- rbind(y_train, y_test) # Merging activity codes
  Subject <- rbind(subject_train, subject_test) # Merging subject numbers
  
  # Note that the order (train, then test) is the same for all 
  
  mrgData <- cbind(Subject, Y, X) # Merging everything
```

To extract the data on the mean and standard deviation for each measurement I did the following:
```json
  data1 <- mrgData %>% select(subject, code, contains("mean"), contains("std"))
```

The column "code", as we can recall, comes from the Y files, representing the code of the activity that the volunteers were doing during the measurements. However, it is preferable that the values in this column be changed to a descriptive value, being the literal name of the activity being performed. To change this I did:
```json
  data1$code <- activities[data1$code, 2]
```

Then, I had to change the names of the variables in the data to have a more descriptive names:
```json
  names(data1)[2] = "activity"
  names(data1) <- gsub("\\.", "", names(data1))
  names(data1)<-gsub("^t", "Time", names(data1))
  names(data1)<-gsub("^f", "Frequency", names(data1))
  names(data1)<-gsub("Acc", "Accelerometer", names(data1))
  names(data1)<-gsub("Gyro", "Gyroscope", names(data1))
  names(data1)<-gsub("BodyBody", "Body", names(data1))
  names(data1)<-gsub("Mag", "Magnitude", names(data1))
  names(data1)<-gsub("tBody", "TimeBody", names(data1))
  names(data1)<-gsub("mean", "Mean", names(data1), ignore.case = TRUE)
  names(data1)<-gsub("std", "StandardDeviation", names(data1), ignore.case = TRUE)
  names(data1)<-gsub("freq", "Frequency", names(data1), ignore.case = TRUE)
  names(data1)<-gsub("angle", "Angle", names(data1))
  names(data1)<-gsub("gravity", "Gravity", names(data1))
```

From the data set "data1", I created a second, independent tidy data set "data2" that contains the average of each variable for each activity and each subject.
```json
  data2 <- data1 %>%
    group_by(subject, activity) %>%
    summarise_all(list(mean=mean))
```

Finally, the final data set was written in a txt file
```
write.table(data2, "FinalData.txt", row.name=FALSE)
```
                  



  



